<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- It's important to use the ntb namespace in the HTML tag or the datepicker will not render -->
<html xmlns:ntb="http://www.nitobi.com">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
<title>Nitobi Calendar Demos - Forms</title>

<link type="text/css" rel="stylesheet" href="../../../common/css/samples.css"></link>
<link type="text/css" rel="stylesheet" href="../../../common/css/sh.css"></link>
<script src="../../../common/js/sh.js"></script>

<!-- EBA_REMOVE_START --><script language="javascript" src="../../../../../test/client/calendar/base.js"></script><script language="javascript"> initTest(); </script><!-- EBA_REMOVE_END -->

<script>
	function load()
	{
		if (!nitobi.browser.IE)
			$("jscode").innerHTML = $("component").innerHTML;
		var datePicker = nitobi.loadComponent("dp");
		
		dp.SyntaxHighlighter.ClipboardSwf = '/flash/clipboard.swf';
		dp.SyntaxHighlighter.HighlightAll('code');
	}	
	nitobi.html.attachEvent(window, "load", load);
</script>
</head>
<body>
	<h2>
		Forms
	</h2>
	<p class="intro">
		Using the Nitobi Calendar in a form is super easy!  All instances of the Calendar will render with a hidden input you can use
		to access the submitted date.
	</p>
	<h3 style="margin-top: 10px;">
		Description
	</h3>
	<div class="notes" style="margin-top: 5px;" id="desc">
		When you submit the Nitobi Calendar as part of a form, you can access the selected date through a hidden input.  The name of the
		input will be the same as the id given to the component.  You can also use the <code>submitmask</code> attribute to format the
		date any way you like.  By default, the hidden input will format its value to match the ISO 8601 standard (yyyy-MM-dd).
		
		<p>
			Choose a date from the Calendar below and press the Submit button.  The page will reload with the selected date displayed
			below the component.
		</p>
	</div>
	<form method="get">
		<div id="component">
			<ntb:datepicker id="dp" theme="leopard" mindate="today" submitmask="yyyy-MMM-dd">
				<ntb:dateinput></ntb:dateinput>
				<ntb:calendar></ntb:calendar>
			</ntb:datepicker>
		</div>
		<input type=submit value="Submit this form" style="margin-left:10px;">
	</form>
	<p>The submitted date:</p>
	<script language="javascript">

		if (window.location.search.length > 0)
		{
			document.write("<div style='background-color: #f0f0f0; padding:10px; padding-left: 20px;'><p>");
			var query = window.location.search;
			var i = query.indexOf("dp");
			query = query.substring(i);
			document.write(query.replace(/\&/g, "<br>").replace("?", "").replace(/=/g, " = ").replace("%40", "@"));
			document.write("</p></div>");
		}
		
	</script>
	<h3 style="margin-top: 35px;margin-bottom: 0px;">
		Example Source Code
	</h3>
	<div id="source">
		<div class="" style="margin-top: 10px;">
			<div>
				Calendar Markup
			</div>
			<div class="codearea">
				<textarea name="code" class="html" id="jscode">
					<ntb:datepicker id="dp" theme="leopard" mindate="today" submitmask="yyyy-MMM-dd">
						<ntb:dateinput></ntb:dateinput>
						<ntb:calendar></ntb:calendar>
					</ntb:datepicker>
				</textarea>
			</div>
		</div>
		<div style="margin-top: 10px;">
			<div>
				Javascript
			<div class="codearea">
				<textarea name="code" class="js" cols="20">
					function load()
					{
						var datePicker = nitobi.loadComponent("dp");
					}
					
					// Load the component when the page loads.
					nitobi.html.attachEvent(window, "load", load);
				</textarea>
			</div>
		</div>
	</div>
</body>
</html>
